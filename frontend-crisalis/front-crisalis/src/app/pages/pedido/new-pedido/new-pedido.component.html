<div class="container">
  <div class="row">
    <div>
      <form (ngSubmit)="onCreate()" novalidate #f="ngForm">

          <div class="form-group">
            <label for="cuit" class="form-label">Fecha del pedido</label>
            <input type="text" class="form-control" id="fechaPedido" name="cuit" [(ngModel)]="fechaPedido" required>
          </div>
          <div class="form-group">
            <label for="totalPedido" class="form-label">Total del pedido (prueba)</label>
            <input type="text" class="form-control" id="totalPedido" name="totalPedido" [(ngModel)]="totalPedido" required>
          </div>
          <div class="form-group">
            <label for="activo" class="form-label">¿El pedido va a estar activo?</label>
            <input type="text" class="form-control" id="activo" name="activo" [(ngModel)]="activo" required>
          </div>

          <div class="container">
            <div class="row align-items-center">
              <div class="col align-self-start">
                <h5>Quien realizó el pedido...:</h5>
              </div>
              <div class="col">
                <div class="form-check">
                  <div class="row container">
                    <button class="btn btn-dark btn-sm" *ngIf="esEmpresa" (click)="esClienteOEmpresa()">¿Es cliente?</button>
                    <button class="btn btn-dark btn-sm" *ngIf="!esEmpresa" (click)="esClienteOEmpresa()">¿Es empresa?</button>
                  </div>
                  <div class="row mt-2">

                    <div class="btn-group ps-3" *ngIf="esEmpresa">
                      <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                        Ver lista de empresas
                      </button>
                      <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start">
                      <div *ngFor="let Empresa of listaEmpresas">

                        <li><button class="dropdown-item" type="button" (click)="getEmpresa(Empresa.razonSocial, Empresa.cuit)" > {{Empresa.razonSocial}} {{Empresa.cuit}} </button></li>
                      </div>
                      </ul>
                    </div>

                    <div class="btn-group ps-3" *ngIf="!esEmpresa">
                      <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                        Ver lista de clientes
                      </button>
                      <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start">
                     <div   *ngFor="let Cliente of listaClientes">
                      <li><button class="dropdown-item" type="button" (click)="getCliente(Cliente.dniCliente, Cliente.nombre, Cliente.apellido)"> {{Cliente.nombre}} {{Cliente.apellido}}, {{Cliente.dniCliente}} </button></li>

                     </div>
                      </ul>
                    </div>

                  </div>







                </div>
              </div>
            </div>
          </div>


          <!-- Si hay una empresa o un cliente seleccionado, se muestran los datos -->

          <div class="pt-3 pb-1" *ngIf="isSelectedCliente && !esEmpresa">
              <p>Nombre: {{clienteAux.nombre}} </p>
              <p>Apellido: {{clienteAux.apellido}} </p>
              <p>Dni: {{clienteAux.dniCliente}} </p>
          </div>
          <div class="pt-3 pb-1" *ngIf="isSelectedEmpresa && esEmpresa">
            <p>Razón social: {{empresaAux.razonSocial}} </p>
            <p>CUIT: {{empresaAux.cuit}} </p>
          </div>

          <!-- Espacio para colocar la lista de productos cuando haya una empresa seleccionada o un cliente -->
          <div class="pt-3" *ngIf="isSelectedCliente || isSelectedEmpresa">

            <div class="btn-group">
              <button type="button" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                Ver lista de productos
              </button>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start">
             <div   *ngFor="let Producto of listaProductos">
              <li><button class="dropdown-item" type="button" (click)="getProducto(Producto.nombre, Producto.precioBase)"> {{Producto.nombre}} ${{Producto.precioBase}} </button></li>

             </div>
              </ul>
            </div>

            <div class="btn-group">
              <button type="button" class="btn btn-dark dropdown-toggle ps-3 ms-3" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                Ver lista de servicios
              </button>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start">
             <div   *ngFor="let Servicio of listaServicios">
              <li><button class="dropdown-item" type="button" (click)="getServicio(Servicio.nombre, Servicio. precioBase, Servicio.soportePrecio)"> {{Servicio.nombre}}, ${{Servicio.precioBase}}, soporte: ${{Servicio.soportePrecio}} </button></li>

             </div>
              </ul>
            </div>

          </div>
          <div class="listaItems">


          </div>








          <button class="btn btn-primary mt-2">Añadir nuevo pedido</button>
      </form>
    </div>
  </div>
</div>
